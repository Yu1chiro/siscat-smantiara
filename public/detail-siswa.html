<!DOCTYPE html><html lang="id"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Detail Laporan Siswa</title><script src="https://cdn.tailwindcss.com"></script><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><style>h1,h2,p{font-family:'Times New Roman',Times,serif!important}@media print{.no-print{display:none!important}}</style></head><body class="bg-slate-100 dark:bg-gray-900 flex flex-col items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8"><div id="report-container" class="w-full max-w-4xl mx-auto"><div id="student-report-card" class="bg-white rounded-2xl shadow-xl p-8 sm:p-12 border border-gray-200"><header class="border-b-2 border-blue-600 pb-6 mb-8"><div class="flex items-center justify-between"><div class="flex-shrink-0"><img loading="eager" src="https://ucarecdn.com/9d1d414f-3a42-40b0-8c3b-1ea66e39455f/SIPCAT.png" class="w-20 h-20 object-contain rounded-full" alt="Logo SIPCAT SMANTIARA"></div><div class="text-center flex-grow mx-4"><h1 class="text-3xl font-bold text-blue-800 tracking-wide mb-1">SMAN 3 SINGARAJA</h1><p class="text-sm text-gray-600 mb-1">Jalan Pulau Natuna, Kel. Penarukan Singaraja</p><p class="text-sm text-gray-600">Telp: (0362) 123456 | Email: info@sman3singaraja.sch.id</p></div><div class="flex-shrink-0 w-20"><img loading="eager" src="https://1mjtjv6snj.ucarecd.net/9c3fb829-d415-4a23-a7ba-8a9e22a3df2c/images.png" class="w-20 h-20 object-contain" alt="Logo SMAN 3 Singaraja"></div></div><div class="text-center mt-6"><div class="inline-block"><h2 class="text-2xl font-semibold text-red-600 uppercase tracking-wide">Laporan Catatan Pelanggaran Siswa</h2><div class="h-1 bg-red-600 mt-2 rounded"></div></div></div></header><section id="student-info" class="mb-10 bg-slate-50 p-6 rounded-lg"><div class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-4"><div><p class="text-sm font-semibold text-gray-500">Nama Lengkap Siswa</p><p id="nama-siswa" class="text-lg text-gray-900">Memuat data...</p></div><div><p class="text-sm font-semibold text-gray-500">Kelas</p><p id="kelas-siswa" class="text-lg text-gray-900">-</p></div><div><p class="text-sm font-semibold text-gray-500">Total Pelanggaran</p><p id="total-pelanggaran" class="text-lg text-red-500">- Kasus</p></div><div><p class="text-sm font-semibold text-gray-500">Tanggal Laporan</p><p id="tanggal-laporan" class="text-lg text-gray-900">-</p></div></div></section><section><h3 class="text-xl font-bold mb-6 pb-2 border-b-2 border-gray-200 text-gray-800">Rincian Pelanggaran Siswa</h3><div id="history-list" class="space-y-5"><p id="loading-text" class="text-center text-gray-500">Memuat riwayat...</p></div></section><footer class="mt-16 pt-10 flex justify-between text-center text-sm text-gray-800 mb-10"><div class="w-1/2"><p class="font-semibold">Mengetahui,</p><p class="font-semibold">Waka kesiswaan</p><p class="mb-20">&nbsp;</p><p class="font-bold pt-2 mb-3">Dyah Puspa Shinta P,S.S.,M.Pd.</p><p class="text-sm text-gray-600">NIP. 198206072009022007</p></div><div class="w-1/2"><p class="font-semibold">Peserta Didik</p><p class="mb-20">&nbsp;</p><p id="nama-siswa-td" class="font-bold pt-2 mb-3"></p><p class="text-sm text-gray-600">Kelas <span class="text-sm text-gray-600" id="kelas-siswa-td"></span></p></div></footer><p class="text-center text-gray-600 text-xs">Laporan ini di cetak secara digital<br>oleh sistem &copy; Sipcat-Smantiara 2025</p></div><div class="fixed top-6 right-6 no-print z-50"><button id="download-btn" class="floating-btn bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-full shadow-lg flex items-center space-x-2 group"><svg class="w-5 h-5 transition-transform group-hover:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg> <span class="hidden sm:inline">Unduh PDF</span></button></div><div class="fixed top-6 left-6 no-print z-50"><button onclick="function _0x388e(){var _0x27d0a2=['10yCxGBf','(((.+)+)+)+$','/dashboard','1181259ALoXCF','location','href','18NvjBSJ','906064xFcoQM','409128ceWpax','toString','98aybTQy','constructor','43397qZLMZe','81156xiuTox','1097960luMOui','95973sxCyJM','search'];_0x388e=function(){return _0x27d0a2;};return _0x388e();}var _0x268207=_0x5794;(function(_0x534a9e,_0x2e93f1){var _0xb2348d=_0x5794,_0x1609a8=_0x534a9e();while(!![]){try{var _0xb010fb=-parseInt(_0xb2348d(0x97))/0x1+-parseInt(_0xb2348d(0x91))/0x2*(parseInt(_0xb2348d(0x9a))/0x3)+-parseInt(_0xb2348d(0x93))/0x4+parseInt(_0xb2348d(0x99))/0x5+-parseInt(_0xb2348d(0x98))/0x6*(-parseInt(_0xb2348d(0x95))/0x7)+parseInt(_0xb2348d(0x92))/0x8+-parseInt(_0xb2348d(0x8e))/0x9*(-parseInt(_0xb2348d(0x9c))/0xa);if(_0xb010fb===_0x2e93f1)break;else _0x1609a8['push'](_0x1609a8['shift']());}catch(_0x503c58){_0x1609a8['push'](_0x1609a8['shift']());}}}(_0x388e,0x35adb));function _0x5794(_0x20c22e,_0x52bebf){var _0x4fd799=_0x388e();return _0x5794=function(_0x1b2598,_0x19dc48){_0x1b2598=_0x1b2598-0x8c;var _0x388ee5=_0x4fd799[_0x1b2598];return _0x388ee5;},_0x5794(_0x20c22e,_0x52bebf);}var _0x19dc48=(function(){var _0x59566f=!![];return function(_0x739c8d,_0x2fef30){var _0x57c8eb=_0x59566f?function(){if(_0x2fef30){var _0x2a0aea=_0x2fef30['apply'](_0x739c8d,arguments);return _0x2fef30=null,_0x2a0aea;}}:function(){};return _0x59566f=![],_0x57c8eb;};}()),_0x1b2598=_0x19dc48(this,function(){var _0x2fca58=_0x5794;return _0x1b2598[_0x2fca58(0x94)]()[_0x2fca58(0x9b)]('(((.+)+)+)+$')[_0x2fca58(0x94)]()[_0x2fca58(0x96)](_0x1b2598)[_0x2fca58(0x9b)](_0x2fca58(0x8c));});_0x1b2598(),window[_0x268207(0x8f)][_0x268207(0x90)]=_0x268207(0x8d);" class="floating-btn bg-blue-600 text-white font-bold py-3 px-6 rounded-full shadow-lg flex items-center space-x-2 group"><span class="hidden sm:inline">Back</span></button></div></div><script>const _0x2d7434=_0x4fd9;(function(_0x80f3f5,_0x27ba9d){const _0xa5e05d=_0x4fd9,_0x3f9ba1=_0x80f3f5();while(!![]){try{const _0x32ec66=-parseInt(_0xa5e05d(0x19c))/0x1+-parseInt(_0xa5e05d(0x16b))/0x2*(-parseInt(_0xa5e05d(0x1ab))/0x3)+-parseInt(_0xa5e05d(0x19d))/0x4+-parseInt(_0xa5e05d(0x1b4))/0x5*(-parseInt(_0xa5e05d(0x1a6))/0x6)+parseInt(_0xa5e05d(0x183))/0x7*(-parseInt(_0xa5e05d(0x179))/0x8)+parseInt(_0xa5e05d(0x191))/0x9*(-parseInt(_0xa5e05d(0x176))/0xa)+-parseInt(_0xa5e05d(0x170))/0xb*(-parseInt(_0xa5e05d(0x1ad))/0xc);if(_0x32ec66===_0x27ba9d)break;else _0x3f9ba1['push'](_0x3f9ba1['shift']());}catch(_0x6db47b){_0x3f9ba1['push'](_0x3f9ba1['shift']());}}}(_0x307c,0x57231));function _0x4fd9(_0x2860da,_0xa57171){const _0x3c727b=_0x307c();return _0x4fd9=function(_0x4129cb,_0x33272e){_0x4129cb=_0x4129cb-0x166;let _0x307c7a=_0x3c727b[_0x4129cb];return _0x307c7a;},_0x4fd9(_0x2860da,_0xa57171);}const _0x33272e=(function(){let _0x2ad2d6=!![];return function(_0x5ca36b,_0x5e8627){const _0x4fdbd7=_0x2ad2d6?function(){const _0x3efe32=_0x4fd9;if(_0x5e8627){const _0x2530c3=_0x5e8627[_0x3efe32(0x18c)](_0x5ca36b,arguments);return _0x5e8627=null,_0x2530c3;}}:function(){};return _0x2ad2d6=![],_0x4fdbd7;};}()),_0x4129cb=_0x33272e(this,function(){const _0x4cbf03=_0x4fd9;return _0x4129cb[_0x4cbf03(0x18b)]()['search']('(((.+)+)+)+$')[_0x4cbf03(0x18b)]()[_0x4cbf03(0x1a8)](_0x4129cb)['search']('(((.+)+)+)+$');});function _0x307c(){const _0x17db6f=['Gagal\x20Membuat\x20PDF','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mt-1\x22>','total-pelanggaran','message','nama','min','catatan','getElementById','405274dKMJjT','880152rPWsgn','long','Error\x20generating\x20PDF:','.pdf','tanggal-laporan','loading-text','Laporan\x20telah\x20disimpan\x20ke\x20perangkat\x20Anda.','click','Laporan_Pelanggaran_','2147298ZNRkwU','kelas-siswa','constructor','innerHTML','success','3tmZAMi','className','5731116olTsyw','Terjadi\x20kesalahan\x20saat\x20membuat\x20file\x20PDF.\x20Silakan\x20coba\x20lagi.','#ffffff','Mohon\x20tunggu\x20sebentar,\x20dokumen\x20sedang\x20diproses.','values','json','error','5UydpIh','download-btn','nama-siswa','getWidth','kelas-siswa-td','addEventListener','width','fire','PDF\x20Berhasil\x20Diunduh!','internal','toLocaleDateString','trim','476132jcgsus','get','length','kelas','timestamp','22WShRWr','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','DOMContentLoaded','toLowerCase','search','2-digit','310tvUikd','getHeight','forEach','24IMIxKj','Tidak\x20ada\x20data\x20pelanggaran\x20ditemukan\x20untuk\x20siswa\x20ini.','toDataURL','showLoading','student-report-card','textContent','appendChild','status','\x20Kasus','Gagal\x20memuat\x20data\x20dari\x20server.','978593mfmGAZ','filter','</p>','title','save','createElement','href','replace','toString','apply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-2/3\x20lg:w-3/4\x20sm:pl-5\x20sm:border-l\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20text-sm\x22>','location','Sedang\x20Membuat\x20PDF...','height','43407OSltuR','numeric','/api/pelanggaran/list'];_0x307c=function(){return _0x17db6f;};return _0x307c();}_0x4129cb(),document[_0x2d7434(0x1b9)](_0x2d7434(0x172),async()=>{const _0x1447fb=_0x2d7434,_0x193a6f=document[_0x1447fb(0x19b)](_0x1447fb(0x1b6)),_0x4c9f29=document[_0x1447fb(0x19b)]('nama-siswa-td'),_0x10e8b8=document[_0x1447fb(0x19b)](_0x1447fb(0x1a7)),_0x5476c3=document[_0x1447fb(0x19b)](_0x1447fb(0x1b8)),_0x36052c=document[_0x1447fb(0x19b)](_0x1447fb(0x196)),_0x4799ad=document[_0x1447fb(0x19b)](_0x1447fb(0x1a1)),_0x2e706e=document[_0x1447fb(0x19b)]('history-list'),_0x438aa8=document[_0x1447fb(0x19b)](_0x1447fb(0x1b5)),_0x495577=document[_0x1447fb(0x19b)](_0x1447fb(0x17d)),_0xded40b=document[_0x1447fb(0x19b)](_0x1447fb(0x1a2)),_0x75fdf5=new URLSearchParams(window[_0x1447fb(0x18e)][_0x1447fb(0x174)]),_0x2ccbd8=_0x75fdf5[_0x1447fb(0x16c)](_0x1447fb(0x198));if(!_0x2ccbd8){document['body'][_0x1447fb(0x1a9)]='<div\x20class=\x22text-center\x20text-red-500\x22><h1>Error:\x20Nama\x20siswa\x20tidak\x20ditemukan\x20di\x20URL.</h1><p>Pastikan\x20URL\x20memiliki\x20format:\x20detail-siswa.html?nama=NAMA_SISWA</p></div>';return;}document[_0x1447fb(0x186)]='Laporan\x20-\x20'+_0x2ccbd8;try{const _0x5a55c3=await fetch(_0x1447fb(0x193));if(!_0x5a55c3['ok']){(_0x5a55c3[_0x1447fb(0x180)]===0x191||_0x5a55c3[_0x1447fb(0x180)]===0x193)&&(window['location'][_0x1447fb(0x189)]='/login.html');throw new Error(_0x1447fb(0x182));}const _0x339a54=await _0x5a55c3[_0x1447fb(0x1b2)](),_0x3eee84=Object[_0x1447fb(0x1b1)](_0x339a54)[_0x1447fb(0x184)](_0x1b240a=>_0x1b240a[_0x1447fb(0x198)][_0x1447fb(0x173)]()[_0x1447fb(0x16a)]()===_0x2ccbd8['toLowerCase']()[_0x1447fb(0x16a)]())['sort']((_0x44b73b,_0x277467)=>new Date(_0x277467[_0x1447fb(0x16f)])-new Date(_0x44b73b[_0x1447fb(0x16f)]));if(_0x3eee84['length']===0x0){_0xded40b[_0x1447fb(0x17e)]=_0x1447fb(0x17a),_0x193a6f['textContent']=_0x2ccbd8,_0x4c9f29['textContent']=_0x2ccbd8;return;}const _0x241a98=_0x3eee84[0x0][_0x1447fb(0x16e)],_0x30720c=new Date()[_0x1447fb(0x169)]('id-ID',{'year':_0x1447fb(0x192),'month':_0x1447fb(0x19e),'day':_0x1447fb(0x192)});_0x193a6f[_0x1447fb(0x17e)]=_0x2ccbd8,_0x4c9f29[_0x1447fb(0x17e)]=_0x2ccbd8,_0x10e8b8[_0x1447fb(0x17e)]=_0x241a98,_0x5476c3['textContent']=_0x241a98,_0x36052c[_0x1447fb(0x17e)]=_0x3eee84[_0x1447fb(0x16d)]+_0x1447fb(0x181),_0x4799ad['textContent']=_0x30720c,_0x2e706e[_0x1447fb(0x1a9)]='',_0x3eee84[_0x1447fb(0x178)](_0x26ed3b=>{const _0x5e416a=_0x1447fb,_0x1c6415=new Date(_0x26ed3b[_0x5e416a(0x16f)]),_0x2706a9=_0x1c6415[_0x5e416a(0x169)]('id-ID',{'day':_0x5e416a(0x175),'month':_0x5e416a(0x19e),'year':'numeric'}),_0x44a7aa=_0x1c6415['toLocaleTimeString']('id-ID',{'hour':_0x5e416a(0x175),'minute':_0x5e416a(0x175)}),_0x6aa01a=document[_0x5e416a(0x188)]('div');_0x6aa01a[_0x5e416a(0x1ac)]='border\x20border-gray-200\x20rounded-lg\x20p-5\x20flex\x20flex-col\x20sm:flex-row',_0x6aa01a[_0x5e416a(0x1a9)]=_0x5e416a(0x18d)+_0x2706a9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-red-600\x20text-lg\x22>'+_0x26ed3b['jenis_pelanggaran']+_0x5e416a(0x195)+_0x26ed3b[_0x5e416a(0x19a)]+_0x5e416a(0x171),_0x2e706e[_0x5e416a(0x17f)](_0x6aa01a);});}catch(_0x356f6d){console[_0x1447fb(0x1b3)](_0x356f6d),_0x2e706e[_0x1447fb(0x1a9)]='<p\x20class=\x22text-center\x20text-red-500\x20font-semibold\x22>'+_0x356f6d[_0x1447fb(0x197)]+_0x1447fb(0x185);}_0x438aa8[_0x1447fb(0x1b9)](_0x1447fb(0x1a4),async()=>{const _0x5325ca=_0x1447fb;Swal[_0x5325ca(0x166)]({'title':_0x5325ca(0x18f),'html':_0x5325ca(0x1b0),'allowOutsideClick':![],'didOpen':()=>Swal[_0x5325ca(0x17c)]()});try{const _0x2c9fa3=await html2canvas(_0x495577,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x5325ca(0x1af),'logging':![],'scrollX':0x0,'scrollY':0x0}),_0x4bd640=_0x2c9fa3[_0x5325ca(0x17b)]('image/jpeg',0.95),{jsPDF:_0x45d98f}=window['jspdf'],_0x7c3960=new _0x45d98f('p','mm','a4'),_0x278a0b=_0x7c3960[_0x5325ca(0x168)]['pageSize'][_0x5325ca(0x1b7)](),_0x5522=_0x7c3960[_0x5325ca(0x168)]['pageSize'][_0x5325ca(0x177)](),_0x7128ff=_0x2c9fa3[_0x5325ca(0x1ba)],_0x31744d=_0x2c9fa3[_0x5325ca(0x190)],_0x30c4c9=Math[_0x5325ca(0x199)]((_0x278a0b-0x14)/_0x7128ff,(_0x5522-0x14)/_0x31744d),_0x2bdc81=(_0x278a0b-_0x7128ff*_0x30c4c9)/0x2,_0x58d1b6=0xa;_0x7c3960['addImage'](_0x4bd640,'JPEG',_0x2bdc81,_0x58d1b6,_0x7128ff*_0x30c4c9,_0x31744d*_0x30c4c9),_0x7c3960[_0x5325ca(0x187)](_0x5325ca(0x1a5)+_0x2ccbd8[_0x5325ca(0x18a)](/\s+/g,'_')+_0x5325ca(0x1a0)),Swal[_0x5325ca(0x166)]({'icon':_0x5325ca(0x1aa),'title':_0x5325ca(0x167),'text':_0x5325ca(0x1a3),'timer':0x7d0,'showConfirmButton':![]});}catch(_0x5b892d){console['error'](_0x5325ca(0x19f),_0x5b892d),Swal['fire']({'icon':_0x5325ca(0x1b3),'title':_0x5325ca(0x194),'text':_0x5325ca(0x1ae),'confirmButtonColor':'#ef4444'});}});});</script></body></html>